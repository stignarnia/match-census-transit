<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Does Transit Match Census?</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <link href="src/style.css" rel="stylesheet" />
</head>

<body>
  <div id="map"></div>

  <!-- Calendar UI -->
  <div x-data="calendar"
    class="fixed bottom-8 left-1/2 -translate-x-1/2 z-50 bg-zinc-900/90 backdrop-blur-md border border-zinc-700 p-5 rounded-2xl shadow-2xl text-white font-sans w-[24rem] transition-all duration-300 hover:border-zinc-500 group select-none flex flex-col gap-4">

    <div class="flex items-center justify-between h-6">
      <div class="flex items-center gap-2">
        <div class="h-2 w-2 rounded-full transition-colors duration-500"
          :class="isUserInteraction ? 'bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)]' : 'bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]'">
        </div>
        <h2
          class="text-xs font-bold uppercase tracking-widest text-zinc-400 group-hover:text-zinc-200 transition-colors">
          <span x-text="isUserInteraction ? 'Time Travel' : 'Live Clock'"></span>
        </h2>
      </div>
      <button @click="reset()" x-show="isUserInteraction" x-transition.opacity
        class="text-[10px] bg-amber-500/10 hover:bg-amber-500/20 text-amber-500 px-2 py-1 rounded-full border border-amber-500/20 transition-colors uppercase font-bold tracking-wider">
        Reset
      </button>
    </div>

    <div class="flex gap-6 items-center">
      <!-- Left: Big Time Display -->
      <div class="relative group/time flex flex-col justify-center min-w-[7rem]">
        <div
          class="text-5xl font-black tracking-tighter font-mono tabular-nums leading-none text-transparent bg-clip-text bg-gradient-to-br from-white to-zinc-400"
          x-text="displayTime"></div>
        <div class="text-sm text-zinc-500 func-medium tracking-wide mt-1 pl-1" x-text="displayDate"></div>
      </div>

      <!-- Right: Compact Inputs -->
      <div class="flex-1 space-y-3 bg-zinc-950/50 p-3 rounded-xl border border-zinc-800/50">
        <div class="relative">
          <input type="date" x-model="inputDate" :min="minDate" title="Select Date"
            class="w-full bg-zinc-900 border border-zinc-800 rounded-lg px-2 py-1.5 text-xs focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/50 transition-all text-zinc-300 hover:bg-zinc-800 hover:border-zinc-700 cursor-pointer appearance-none [&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:opacity-50 [&::-webkit-calendar-picker-indicator]:hover:opacity-100">
        </div>
        <div class="relative">
          <input type="time" x-model="inputTime" title="Select Time"
            class="w-full bg-zinc-900 border border-zinc-800 rounded-lg px-2 py-1.5 text-xs focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/50 transition-all text-zinc-300 hover:bg-zinc-800 hover:border-zinc-700 cursor-pointer appearance-none [&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:opacity-50 [&::-webkit-calendar-picker-indicator]:hover:opacity-100">
        </div>
      </div>
    </div>

    <!-- Footer: Fixed Height Message -->
    <div class="h-10 flex items-center justify-center text-[10px] text-zinc-600 font-medium leading-tight shrink-0">
      <span x-show="!isUserInteraction">Displaying current system time.</span>
      <span x-show="isUserInteraction" class="text-amber-500/80 text-center">Future simulation active. <br>Auto-resets
        if time is reached.</span>
    </div>
  </div>

  <script type="module" src="/src/main.ts"></script>
</body>

</html>